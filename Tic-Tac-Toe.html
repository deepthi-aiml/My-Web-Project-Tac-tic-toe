<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tic Tac Toe | Enhanced Portfolio Project</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        :root {
            --primary: #4361ee;
            --primary-dark: #3a56d4;
            --secondary: #7209b7;
            --accent: #f72585;
            --x-color: #4361ee;
            --o-color: #f72585;
            --bg-light: #f8f9fa;
            --bg-dark: #212529;
            --text-light: #f8f9fa;
            --text-dark: #212529;
            --border: #dee2e6;
            --shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            --transition: all 0.3s ease;
        }

        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: var(--text-dark);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .container {
            max-width: 500px;
            width: 100%;
            background: white;
            border-radius: 20px;
            box-shadow: var(--shadow);
            overflow: hidden;
        }

        header {
            background: var(--primary);
            color: white;
            padding: 25px;
            text-align: center;
        }

        .logo {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        h1 {
            font-size: 2.2rem;
            margin-bottom: 5px;
            font-weight: 700;
        }

        .subtitle {
            font-size: 1rem;
            opacity: 0.9;
        }

        .game-container {
            padding: 30px;
        }

        .player-selection {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 30px;
        }

        .player-option {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
            cursor: pointer;
            padding: 15px;
            border-radius: 12px;
            transition: var(--transition);
            border: 2px solid transparent;
        }

        .player-option:hover {
            background: rgba(67, 97, 238, 0.05);
        }

        .player-option.selected {
            border-color: var(--primary);
            background: rgba(67, 97, 238, 0.1);
        }

        .player-icon {
            font-size: 2.5rem;
            width: 70px;
            height: 70px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
        }

        .player-x .player-icon {
            background: rgba(67, 97, 238, 0.1);
            color: var(--x-color);
        }

        .player-o .player-icon {
            background: rgba(247, 37, 133, 0.1);
            color: var(--o-color);
        }

        .player-label {
            font-weight: 600;
            font-size: 1.1rem;
        }

        .game-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            background: var(--bg-light);
            padding: 15px;
            border-radius: 12px;
        }

        .current-player {
            display: flex;
            align-items: center;
            gap: 10px;
            font-weight: 600;
        }

        .player-indicator {
            font-size: 1.5rem;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 8px;
        }

        .player-indicator.x {
            background: rgba(67, 97, 238, 0.1);
            color: var(--x-color);
        }

        .player-indicator.o {
            background: rgba(247, 37, 133, 0.1);
            color: var(--o-color);
        }

        .score-board {
            display: flex;
            gap: 15px;
        }

        .score {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 5px;
        }

        .score-value {
            font-size: 1.5rem;
            font-weight: 700;
        }

        .score-label {
            font-size: 0.8rem;
            color: var(--text-dark);
            opacity: 0.7;
        }

        .board-container {
            display: flex;
            justify-content: center;
            margin-bottom: 25px;
        }

        .game-board {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            grid-template-rows: repeat(3, 1fr);
            gap: 10px;
            width: 100%;
            max-width: 300px;
            aspect-ratio: 1/1;
            background: var(--primary);
            padding: 10px;
            border-radius: 12px;
        }

        .cell {
            background: white;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            font-weight: 700;
            cursor: pointer;
            transition: var(--transition);
            aspect-ratio: 1/1;
        }

        .cell:hover {
            background: #f1f3f9;
            transform: scale(1.03);
        }

        .cell.x {
            color: var(--x-color);
        }

        .cell.o {
            color: var(--o-color);
        }

        .cell.win {
            background: rgba(76, 175, 80, 0.2);
            animation: pulse 1s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .controls {
            display: flex;
            justify-content: center;
            gap: 15px;
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 50px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .btn-primary {
            background: var(--primary);
            color: white;
        }

        .btn-primary:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
        }

        .btn-secondary {
            background: var(--bg-light);
            color: var(--text-dark);
        }

        .btn-secondary:hover {
            background: #e9ecef;
            transform: translateY(-2px);
        }

        .message {
            text-align: center;
            padding: 15px;
            margin-top: 20px;
            border-radius: 12px;
            font-weight: 600;
            display: none;
        }

        .message.win {
            background: rgba(76, 175, 80, 0.2);
            color: #2e7d32;
            display: block;
        }

        .message.draw {
            background: rgba(255, 193, 7, 0.2);
            color: #f57f17;
            display: block;
        }

        .difficulty-selector {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 20px;
        }

        .difficulty-btn {
            padding: 8px 16px;
            border: 1px solid var(--border);
            border-radius: 20px;
            background: white;
            cursor: pointer;
            transition: var(--transition);
            font-size: 0.9rem;
        }

        .difficulty-btn.active {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }

        .auto-play-toggle {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            margin-top: 15px;
        }

        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 24px;
        }

        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 24px;
        }

        .slider:before {
            position: absolute;
            content: "";
            height: 16px;
            width: 16px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }

        input:checked + .slider {
            background-color: var(--primary);
        }

        input:checked + .slider:before {
            transform: translateX(26px);
        }

        footer {
            text-align: center;
            padding: 20px;
            color: var(--text-dark);
            opacity: 0.7;
            font-size: 0.9rem;
            border-top: 1px solid var(--border);
        }

        @media (max-width: 500px) {
            .container {
                border-radius: 15px;
            }
            
            header {
                padding: 20px;
            }
            
            h1 {
                font-size: 1.8rem;
            }
            
            .game-container {
                padding: 20px;
            }
            
            .player-selection {
                flex-direction: column;
                align-items: center;
                gap: 10px;
            }
            
            .player-option {
                width: 100%;
                max-width: 200px;
                flex-direction: row;
                justify-content: flex-start;
            }
            
            .game-info {
                flex-direction: column;
                gap: 15px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">
                <i class="fas fa-gamepad"></i>
            </div>
            <h1>Tic Tac Toe</h1>
            <p class="subtitle">Challenge the computer in this classic game</p>
        </header>
        
        <div class="game-container">
            <div class="player-selection">
                <div class="player-option player-x selected" data-player="x">
                    <div class="player-icon">
                        <i class="fas fa-times"></i>
                    </div>
                    <div class="player-label">Play as X</div>
                </div>
                <div class="player-option player-o" data-player="o">
                    <div class="player-icon">
                        <i class="far fa-circle"></i>
                    </div>
                    <div class="player-label">Play as O</div>
                </div>
            </div>
            
            <div class="difficulty-selector">
                <button class="difficulty-btn active" data-difficulty="easy">Easy</button>
                <button class="difficulty-btn" data-difficulty="medium">Medium</button>
                <button class="difficulty-btn" data-difficulty="hard">Hard</button>
            </div>
            
            <div class="game-info">
                <div class="current-player">
                    <span>Current turn:</span>
                    <div class="player-indicator x">
                        <i class="fas fa-times"></i>
                    </div>
                </div>
                
                <div class="score-board">
                    <div class="score">
                        <div class="score-value" id="player-score">0</div>
                        <div class="score-label">You</div>
                    </div>
                    <div class="score">
                        <div class="score-value" id="ties-score">0</div>
                        <div class="score-label">Ties</div>
                    </div>
                    <div class="score">
                        <div class="score-value" id="ai-score">0</div>
                        <div class="score-label">AI</div>
                    </div>
                </div>
            </div>
            
            <div class="board-container">
                <div class="game-board" id="game-board">
                    <div class="cell" data-cell-index="0"></div>
                    <div class="cell" data-cell-index="1"></div>
                    <div class="cell" data-cell-index="2"></div>
                    <div class="cell" data-cell-index="3"></div>
                    <div class="cell" data-cell-index="4"></div>
                    <div class="cell" data-cell-index="5"></div>
                    <div class="cell" data-cell-index="6"></div>
                    <div class="cell" data-cell-index="7"></div>
                    <div class="cell" data-cell-index="8"></div>
                </div>
            </div>
            
            <div class="message" id="game-message"></div>
            
            <div class="auto-play-toggle">
                <span>Auto-play after draw:</span>
                <label class="toggle-switch">
                    <input type="checkbox" id="auto-play-toggle" checked>
                    <span class="slider"></span>
                </label>
            </div>
            
            <div class="controls">
                <button class="btn btn-secondary" id="reset-btn">
                    <i class="fas fa-redo"></i>
                    Reset Game
                </button>
                <button class="btn btn-primary" id="new-game-btn">
                    <i class="fas fa-plus"></i>
                    New Game
                </button>
            </div>
        </div>
        
        <footer>
            <p>Built as a Portfolio Project | Enhanced Tic Tac Toe with AI</p>
        </footer>
    </div>

    <script>
        // DOM Elements
        const gameBoard = document.getElementById('game-board');
        const cells = document.querySelectorAll('.cell');
        const playerOptions = document.querySelectorAll('.player-option');
        const currentPlayerIndicator = document.querySelector('.player-indicator');
        const playerScoreElement = document.getElementById('player-score');
        const tiesScoreElement = document.getElementById('ties-score');
        const aiScoreElement = document.getElementById('ai-score');
        const gameMessage = document.getElementById('game-message');
        const resetBtn = document.getElementById('reset-btn');
        const newGameBtn = document.getElementById('new-game-btn');
        const difficultyButtons = document.querySelectorAll('.difficulty-btn');
        const autoPlayToggle = document.getElementById('auto-play-toggle');

        // Game state
        let board = ['', '', '', '', '', '', '', '', ''];
        let currentPlayer = 'x';
        let playerSymbol = 'x';
        let aiSymbol = 'o';
        let gameActive = true;
        let autoPlayEnabled = true;
        let difficulty = 'medium';
        let scores = {
            player: 0,
            ties: 0,
            ai: 0
        };

        // Winning combinations
        const winPatterns = [
            [0, 1, 2], [3, 4, 5], [6, 7, 8], // rows
            [0, 3, 6], [1, 4, 7], [2, 5, 8], // columns
            [0, 4, 8], [2, 4, 6]             // diagonals
        ];

        // Initialize the game
        function initGame() {
            // Set up event listeners for player selection
            playerOptions.forEach(option => {
                option.addEventListener('click', () => {
                    playerOptions.forEach(opt => opt.classList.remove('selected'));
                    option.classList.add('selected');
                    
                    playerSymbol = option.dataset.player;
                    aiSymbol = playerSymbol === 'x' ? 'o' : 'x';
                    
                    // Reset game with new symbols
                    resetGame();
                });
            });

            // Set up event listeners for difficulty buttons
            difficultyButtons.forEach(button => {
                button.addEventListener('click', () => {
                    difficultyButtons.forEach(btn => btn.classList.remove('active'));
                    button.classList.add('active');
                    difficulty = button.dataset.difficulty;
                });
            });

            // Set up event listeners for cells
            cells.forEach(cell => {
                cell.addEventListener('click', handleCellClick);
            });

            // Set up event listeners for buttons
            resetBtn.addEventListener('click', resetGame);
            newGameBtn.addEventListener('click', newGame);
            
            // Set up event listener for auto-play toggle
            autoPlayToggle.addEventListener('change', function() {
                autoPlayEnabled = this.checked;
            });
            
            // Initialize the board
            updateBoard();
        }

        // Handle cell click
        function handleCellClick(e) {
            const cell = e.target;
            const cellIndex = parseInt(cell.dataset.cellIndex);

            // Check if cell is empty and game is active
            if (board[cellIndex] !== '' || !gameActive) return;

            // Make player move
            makeMove(cellIndex, playerSymbol);

            // Check for win or draw
            if (checkWin(playerSymbol)) {
                endGame('player');
                return;
            } else if (isBoardFull()) {
                endGame('draw');
                return;
            }

            // Switch to AI turn
            currentPlayer = aiSymbol;
            updateCurrentPlayerIndicator();

            // AI makes a move after a short delay
            setTimeout(makeAIMove, 600);
        }

        // Make a move on the board
        function makeMove(cellIndex, symbol) {
            board[cellIndex] = symbol;
            updateBoard();
        }

        // AI makes a move based on difficulty
        function makeAIMove() {
            if (!gameActive) return;

            let move;
            
            if (difficulty === 'easy') {
                // Easy: Random moves only
                move = takeRandom();
            } else if (difficulty === 'medium') {
                // Medium: Try to win, then block, then random
                move = findWinningMove(aiSymbol) || 
                       findWinningMove(playerSymbol) || 
                       takeRandom();
            } else {
                // Hard: Try to win, then block, then take center/corners, then random
                move = findWinningMove(aiSymbol) || 
                       findWinningMove(playerSymbol) || 
                       takeCenter() || 
                       takeCorner() || 
                       takeRandom();
            }

            if (move !== null) {
                makeMove(move, aiSymbol);

                // Check for win or draw
                if (checkWin(aiSymbol)) {
                    endGame('ai');
                } else if (isBoardFull()) {
                    endGame('draw');
                } else {
                    // Switch back to player turn
                    currentPlayer = playerSymbol;
                    updateCurrentPlayerIndicator();
                }
            }
        }

        // Find a winning move for a player
        function findWinningMove(symbol) {
            for (let pattern of winPatterns) {
                const [a, b, c] = pattern;
                if (board[a] === symbol && board[b] === symbol && board[c] === '') return c;
                if (board[a] === symbol && board[c] === symbol && board[b] === '') return b;
                if (board[b] === symbol && board[c] === symbol && board[a] === '') return a;
            }
            return null;
        }

        // Take center if available
        function takeCenter() {
            return board[4] === '' ? 4 : null;
        }

        // Take a corner if available
        function takeCorner() {
            const corners = [0, 2, 6, 8];
            const availableCorners = corners.filter(index => board[index] === '');
            if (availableCorners.length > 0) {
                return availableCorners[Math.floor(Math.random() * availableCorners.length)];
            }
            return null;
        }

        // Take a random available cell
        function takeRandom() {
            const availableCells = board
                .map((cell, index) => cell === '' ? index : null)
                .filter(cell => cell !== null);
            
            if (availableCells.length > 0) {
                return availableCells[Math.floor(Math.random() * availableCells.length)];
            }
            return null;
        }

        // Check for win
        function checkWin(symbol) {
            return winPatterns.some(pattern => {
                return pattern.every(index => {
                    return board[index] === symbol;
                });
            });
        }

        // Check if board is full
        function isBoardFull() {
            return board.every(cell => cell !== '');
        }

        // End the game
        function endGame(winner) {
            gameActive = false;
            
            // Highlight winning cells
            if (winner !== 'draw') {
                const winPattern = winPatterns.find(pattern => 
                    pattern.every(index => board[index] === (winner === 'player' ? playerSymbol : aiSymbol))
                );
                
                if (winPattern) {
                    winPattern.forEach(index => {
                        cells[index].classList.add('win');
                    });
                }
            }
            
            // Update scores and message
            if (winner === 'player') {
                scores.player++;
                playerScoreElement.textContent = scores.player;
                gameMessage.textContent = 'Congratulations! You won!';
                gameMessage.className = 'message win';
            } else if (winner === 'ai') {
                scores.ai++;
                aiScoreElement.textContent = scores.ai;
                gameMessage.textContent = 'AI wins! Better luck next time!';
                gameMessage.className = 'message win';
            } else {
                scores.ties++;
                tiesScoreElement.textContent = scores.ties;
                gameMessage.textContent = "It's a draw!";
                gameMessage.className = 'message draw';
                
                // Auto-start new game if enabled
                if (autoPlayEnabled) {
                    setTimeout(() => {
                        resetGame();
                    }, 1500);
                }
            }
        }

        // Reset the game (keep scores)
        function resetGame() {
            board = ['', '', '', '', '', '', '', '', ''];
            currentPlayer = playerSymbol;
            gameActive = true;
            
            // Clear board and message
            updateBoard();
            gameMessage.className = 'message';
            gameMessage.textContent = '';
            
            // Update current player indicator
            updateCurrentPlayerIndicator();
            
            // If AI goes first, make a move
            if (currentPlayer === aiSymbol) {
                setTimeout(makeAIMove, 600);
            }
        }

        // Start a new game (reset scores)
        function newGame() {
            scores = { player: 0, ties: 0, ai: 0 };
            playerScoreElement.textContent = '0';
            tiesScoreElement.textContent = '0';
            aiScoreElement.textContent = '0';
            resetGame();
        }

        // Update the board UI
        function updateBoard() {
            cells.forEach((cell, index) => {
                cell.textContent = '';
                cell.className = 'cell';
                
                if (board[index] === 'x') {
                    cell.textContent = 'X';
                    cell.classList.add('x');
                } else if (board[index] === 'o') {
                    cell.textContent = 'O';
                    cell.classList.add('o');
                }
            });
        }

        // Update current player indicator
        function updateCurrentPlayerIndicator() {
            currentPlayerIndicator.className = `player-indicator ${currentPlayer}`;
            currentPlayerIndicator.innerHTML = currentPlayer === 'x' 
                ? '<i class="fas fa-times"></i>' 
                : '<i class="far fa-circle"></i>';
        }

        // Initialize the game when page loads
        window.addEventListener('DOMContentLoaded', initGame);
    </script>
</body>
</html>